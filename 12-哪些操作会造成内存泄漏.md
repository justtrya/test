# 垃圾回收机制以及内存泄露

> 垃圾回收机制？
>
> ​	垃圾回收器定期扫描对象，并计算引用了每个对象的其他对象的数量。如果一个对象的引用数量为 0（没有其他对象引用过该对象），或对该对象的惟一引用是循环的，那么该对象的内存即可回收。

> 内存泄露是什么？
>
> ​	内存泄漏指任何对象在您不再拥有或需要它之后仍然存在。

## 哪些操作会引起内存泄露？

1. setTimeout 的第一个参数使用字符串而非函数的话，会引发内存泄漏。
2. 闭包、控制台日志、循环（在两个对象彼此引用且彼此保留时，就会产生一个循环）。
3. 详见：详解js变量、作用域及内存

---

##  如何防止内存泄露

1. 不要动态绑定事件；
2. 不要在动态添加，或者会被动态移除的dom 上绑事件，用事件冒泡在父容器监听事件；
3. 如果要违反上面的原则，必须提供destroy 方法，保证移除dom 后事件也被移除，这点可以参考Backbone 的源代码，做的比较好；
4. 单例化，少创建dom，少绑事件。